{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Coupon Policy API","description":"쿠폰 정책 관련 API"},{"name":"Product API","description":"상품 정보 조회 API"},{"name":"User API","description":"User API"},{"name":"PointHistory API","description":"포인트 히스토리 API"},{"name":"Coupon API","description":"쿠폰 발급 및 조회 API"}],"paths":{"/orders":{"post":{"tags":["order-controller"],"operationId":"requestOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseOrderCreatedResponseDto"}}}}}}},"/coupons/{userId}":{"get":{"tags":["Coupon API"],"summary":"사용자 쿠폰 목록 조회","description":"특정 사용자의 보유 쿠폰을 조회합니다.","operationId":"getUserCoupons","parameters":[{"name":"userId","in":"path","description":"사용자 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListIssuedCouponResponseDto"}}}}}},"post":{"tags":["Coupon API"],"summary":"쿠폰 발급","description":"사용자에게 쿠폰을 발급합니다.","operationId":"issueCoupon","parameters":[{"name":"userId","in":"path","description":"사용자 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CouponIssueRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseIssuedCouponResponseDto"}}}}}}},"/user/points/{userId}/use":{"patch":{"tags":["User API"],"summary":"포인트 사용","description":"요청된 금액만큼 사용자의 포인트를 차감합니다.","operationId":"usePoint","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PointUseRequestDto"}}},"required":true},"responses":{"200":{"description":"차감 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PointBalanceDto"}}}}}}},"/user/points/{userId}/charge":{"patch":{"tags":["User API"],"summary":"포인트 충전","description":"요청된 금액만큼 사용자의 포인트를 충전합니다.","operationId":"chargePoint","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PointChargeRequestDto"}}},"required":true},"responses":{"200":{"description":"충전 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PointBalanceDto"}}}}}}},"/user/{userId}":{"get":{"tags":["User API"],"summary":"특정 사용자 정보 조회","description":"userId를 이용하여 단일 사용자 정보를 조회합니다.","operationId":"getUserInfo","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"정상 조회 완료","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}}}}},"/user/points/{userId}":{"get":{"tags":["User API"],"summary":"사용자 포인트 잔액 조회","description":"사용자의 포인트 잔액을 반환합니다.","operationId":"getPoint","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"포인트 잔액 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PointBalanceDto"}}}}}}},"/user/ping":{"get":{"tags":["User API"],"operationId":"ping","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/user/":{"get":{"tags":["User API"],"operationId":"getUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListUserResponseDto"}}}}}}},"/products":{"get":{"tags":["Product API"],"summary":"전체 상품 목록 조회","description":"모든 상품의 리스트를 조회합니다.","operationId":"getAllProducts","responses":{"200":{"description":"상품 리스트 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListProductListResponseDto"}}}}}}},"/products/{productId}":{"get":{"tags":["Product API"],"summary":"상품 상세 조회","description":"특정 productId로 상품 상세 정보를 조회합니다.","operationId":"getProductDetail","parameters":[{"name":"productId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"상품 상세 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseProductDetailResponseDto"}}}}}}},"/points/{userId}/history":{"get":{"tags":["PointHistory API"],"summary":"포인트 이력 조회","description":"사용자의 포인트 사용/충전 이력을 조회합니다.","operationId":"getPointHistoryList","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"포인트 이력 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPointHistoryResponseDto"}}}}}}},"/orders/{userId}":{"get":{"tags":["order-controller"],"operationId":"getOrderList","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListOrderSummaryResponseDto"}}}}}}},"/orders/{orderId}/payment":{"get":{"tags":["order-controller"],"operationId":"getOrderPayment","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseOrderPaymentResponseDto"}}}}}}},"/orders/{orderId}/detail":{"get":{"tags":["order-controller"],"operationId":"getOrderDetail","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseOrderDetailResponseDto"}}}}}}},"/orders/popular":{"get":{"tags":["order-controller"],"operationId":"getPopularProducts","parameters":[{"name":"days","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"limit","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListPopularProductResponseDto"}}}}}}},"/coupon-policy/available":{"get":{"tags":["Coupon Policy API"],"summary":"사용자 발급 가능한 쿠폰 정책 조회","description":"사용자가 현재 발급 가능한 쿠폰 정책 목록을 조회합니다.","operationId":"getAvailablePolicies","parameters":[{"name":"userId","in":"query","description":"사용자 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListCouponPolicyResponseDto"}}}}}}}},"components":{"schemas":{"OrderItemRequestDto":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32"},"price":{"type":"integer","format":"int64"}}},"OrderRequestDto":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"items":{"type":"array","items":{"$ref":"#/components/schemas/OrderItemRequestDto"}},"couponId":{"type":"integer","format":"int64"}}},"ApiResponseOrderCreatedResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/OrderCreatedResponseDto"},"status":{"type":"integer","format":"int32"}}},"OrderCreatedResponseDto":{"type":"object","properties":{"orderId":{"type":"integer","format":"int64"},"status":{"type":"string","enum":["CREATED","PAID","COMPLETED","PAYMENT_FAILED","CREATED","PAID","COMPLETED","PAYMENT_FAILED"]},"originalPrice":{"type":"integer","format":"int64"},"discountAmount":{"type":"integer","format":"int64"},"finalPrice":{"type":"integer","format":"int64"},"orderedDt":{"type":"string","format":"date-time"},"items":{"type":"array","items":{"$ref":"#/components/schemas/OrderItemResponseDto"}}}},"OrderItemResponseDto":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32"},"unitPrice":{"type":"integer","format":"int64"},"totalPrice":{"type":"integer","format":"int64"}}},"CouponIssueRequestDto":{"type":"object","properties":{"couponPolicyId":{"type":"integer","format":"int64"}}},"ApiResponseIssuedCouponResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/IssuedCouponResponseDto"},"status":{"type":"integer","format":"int32"}}},"IssuedCouponResponseDto":{"type":"object","properties":{"couponId":{"type":"integer","format":"int64"},"name":{"type":"string"},"discountRate":{"type":"integer","format":"int32"},"issuedDt":{"type":"string","format":"date-time"},"expiredDt":{"type":"string","format":"date-time"},"isUsed":{"type":"boolean"}}},"PointUseRequestDto":{"type":"object","properties":{"amount":{"type":"integer","format":"int64"}}},"PointBalanceDto":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"point":{"type":"integer","format":"int64"}}},"PointChargeRequestDto":{"type":"object","properties":{"amount":{"type":"integer","format":"int64"}}},"UserResponseDto":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"point":{"type":"integer","format":"int64"},"createdDt":{"type":"string","format":"date-time"}}},"ApiResponseListUserResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/UserResponseDto"}},"status":{"type":"integer","format":"int32"}}},"ApiResponseListProductListResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/ProductListResponseDto"}},"status":{"type":"integer","format":"int32"}}},"ProductListResponseDto":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"name":{"type":"string"},"price":{"type":"integer","format":"int64"},"stock":{"type":"integer","format":"int32"}}},"ApiResponseProductDetailResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/ProductDetailResponseDto"},"status":{"type":"integer","format":"int32"}}},"ProductDetailResponseDto":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"name":{"type":"string"},"price":{"type":"integer","format":"int64"},"stock":{"type":"integer","format":"int32"}}},"ApiResponseListPointHistoryResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/PointHistoryResponseDto"}},"status":{"type":"integer","format":"int32"}}},"PointHistoryResponseDto":{"type":"object","properties":{"pointHistoryId":{"type":"integer","format":"int64"},"amount":{"type":"integer","format":"int64"},"type":{"type":"string","enum":["CHARGE","USE"]},"createdDt":{"type":"string","format":"date-time"},"balanceAfter":{"type":"integer","format":"int64"}}},"ApiResponseListOrderSummaryResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/OrderSummaryResponseDto"}},"status":{"type":"integer","format":"int32"}}},"OrderSummaryResponseDto":{"type":"object","description":"주문 전체 조회 정보 응답 DTO","properties":{"orderId":{"type":"integer","format":"int64"},"status":{"type":"string","enum":["CREATED","PAID","COMPLETED","PAYMENT_FAILED","CREATED","PAID","COMPLETED","PAYMENT_FAILED"]},"orderedDt":{"type":"string","format":"date-time"},"totalPrice":{"type":"integer","format":"int64"}}},"ApiResponseOrderPaymentResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/OrderPaymentResponseDto"},"status":{"type":"integer","format":"int32"}}},"OrderPaymentResponseDto":{"type":"object","description":"주문 결제 정보 응답 DTO","properties":{"orderPaymentId":{"type":"integer","format":"int64"},"couponId":{"type":"integer","format":"int64"},"originalPrice":{"type":"integer","format":"int64"},"discountAmount":{"type":"integer","format":"int64"},"finalPrice":{"type":"integer","format":"int64"},"paidDt":{"type":"string","format":"date-time"}}},"ApiResponseOrderDetailResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/OrderDetailResponseDto"},"status":{"type":"integer","format":"int32"}}},"OrderDetailResponseDto":{"type":"object","description":"주문 상세 조회 응답 DTO","properties":{"orderId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"orderedDt":{"type":"string","format":"date-time"},"orderItems":{"type":"array","items":{"$ref":"#/components/schemas/OrderItemDetailDto"}},"totalAmount":{"type":"integer","format":"int64"},"status":{"type":"string"},"paymentInfo":{"$ref":"#/components/schemas/OrderPaymentResponseDto"}}},"OrderItemDetailDto":{"type":"object","description":"주문 아이템 상세 응답 DTO","properties":{"name":{"type":"string"},"price":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int64"},"totalPrice":{"type":"integer","format":"int64"}}},"ApiResponseListPopularProductResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/PopularProductResponseDto"}},"status":{"type":"integer","format":"int32"}}},"PopularProductResponseDto":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"name":{"type":"string"},"totalSold":{"type":"integer","format":"int64"}}},"ApiResponseListIssuedCouponResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/IssuedCouponResponseDto"}},"status":{"type":"integer","format":"int32"}}},"ApiResponseListCouponPolicyResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/CouponPolicyResponseDto"}},"status":{"type":"integer","format":"int32"}}},"CouponPolicyResponseDto":{"type":"object","properties":{"couponPolicyId":{"type":"integer","format":"int64"},"name":{"type":"string"},"discountRate":{"type":"integer","format":"int32"},"issuedRemain":{"type":"integer","format":"int64"},"expiredDt":{"type":"string","format":"date-time"},"isExpired":{"type":"boolean"}}}}}}